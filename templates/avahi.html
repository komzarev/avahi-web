<!DOCTYPE html>
<html>
<head>
	<title>Avahi Output</title>
	<style>
	
		h1{
			text-align: center;
			padding: 8px;
			border-bottom: 1px solid #ddd;
		}
		table {
			border-collapse: collapse;
			width: 100%;
			border: 1px solid #ddd;
			font-family: Arial, sans-serif;
			font-size: 14px;
			color: #333;
		}

		th{
			text-align: left;
			padding: 15px;
			border-bottom: 1px solid #ddd;
			font-weight: bolder;
		}
		td {
			text-align: left;
			padding: 8px;
			border-bottom: 1px solid #ddd;
			font-weight: lighter;
			}

		tr:nth-child(even) {
			background-color: #f2f2f2;
		}

		tr:hover {
			background-color: #f5f5f5;
		}

		tr:first-child:hover td {
			background-color: transparent;
		}

		button {
			background-color: #4CAF50;
			border: none;
			color: white;
			padding: 8px 16px;
			text-align: center;
			text-decoration: none;
			display: inline-block;
			font-size: 14px;
			margin: 4px 2px;
			cursor: pointer;
			border-radius: 4px;
			transition: background-color 0.3s;
		}

		button:hover {
			background-color: #3e8e41;
		}

		input[type=text] {




			padding: 6px;
			border: 1px solid #ccc;
			border-radius: 4px;
			box-sizing: border-box;
			font-size: 14px;
			width: 100%;
		}

		input[type=text]:focus {
			border-color: #4CAF50;
			box-shadow: 0 0 8px 0 rgba(76, 175, 80, 0.4);
			outline: none;
		}
	</style>
</head>
<body>
	<h1 style="font-family: Arial;">ВСЕ УСТРОЙСТВА В СЕТИ<h1>
	<script>
       function save_comment(input){
               const dev_name = input.getAttribute('dev_name');
			   const comment = document.getElementById("comment").value;

               let all = {}
               all["dev_name"] = dev_name
               all["comment"] = comment
              
               fetch(`/set-comment`, {
                   method: "POST",
                   headers: {'Content-Type': 'application/json'}, 
                   body: JSON.stringify(all)
               }).then(res => {
                   console.log("Save comment response:", res);
               });
       }
       
   </script>
	<form>
	<table>
		<tr>
			<th>Имя образа</th>
			<th>Версия образа</th>
			<th>Имя хоста</th>
			<th>IP Адрес</th>
			<th>Добавить примечание</th>
		

		</tr>
			
			{% for row in rows %}
			<tr>
				{% for cell in row %}
					<td>{{ cell }}</td>
				{% endfor %}
	 			<td><input type="text" id="comment" name="new_name.{{row[2]}}" value="{{comments[row[2]]}}"></td>
				<td>
					<input type="hidden" name="row_number" value="{{ loop.index }}">
					<button type="submit" value="Change Name" dev_name="new_name.{{row[2]}}" onclick="save_comment(this)">Добавить примечание</button>
				</td>
			</tr>
		{% endfor %}
	</table>
	</form>
</body>
</html>
